# 开放平台接入流程

## 步骤:

1. 创建应用
2. 本地开发
3. 上传代码
4. 在线测试
5. 提交应用审核
6. 发布应用（审核完毕）

## 1.创建应用
- 创建应用时需要填写的资料: 游戏名称/简介/横幅
- 应用创建之后，除了显示开发者填写的资料，还需要显示当前应用的ID编号
- 模板的标签、行业是开发者填写？还是运营人员填写？
- 是否限制未审核通过的应用数量？

## 2.本地开发

本地开发的主要内容是：

- 按平台要求编写好模板的配置表，可在本地预览工作台渲染是否正确。
- 引入hwsdk.js，选择接入相应的API，完成模板的功能对接（注意：本地开发阶段接口返回数据通过Mock生成）。

### 工作台

```
# 拷贝工作台项目到本地
git clone https://github.com/GuangZhouShanyouGame/24haowan-workbench.git

# 进入项目
cd 24haowan-workbench

# 安装依赖
npm install

# 运行
npm run dev
```

工作台的详细说明：[点击这里](https://24haowan.gitbooks.io/workbench/content/)

### hwsdk

hwsdk的引入和使用请参考:

工作台项目中 /example/index.html

hwsdk详细说明：[点击这里](https://24haowan.gitbooks.io/hwsdk/content/)

## 3.上传代码
- 格式限制： 必须是zip压缩包，压缩包里面必须包含特定的文件及命名(例如入口文件、配置文件)
- 大小限制：压缩包的大小不允许超过 xxx M
- 代码不允许包含外链，只允许包含特定的文件格式(html/css/js/png/jpg等)

## 4.在线测试
开放平台基于用户上传的文件提供一个测试地址，可以用来测试资源替换/公众号授权等功能。

## 5-1. 提交应用审核(开发者)
- 审核期间，不允许对代码进行任何修改
- 是否限制同时提交审核的数量(防止恶意提交)？

## 5-2. 应用审核(运营人员)
- 自动列出所有用到的图片资源、文案。审查是否包含敏感或者违规信息
- 提供游戏的测试地址给运营人员

## 5-3. 应用审核(开发人员)
- 审查是否包含恶意代码，例如发送恶意请求、xss攻击、恶意收集用户信息等。

## 6.发布应用（审核完毕）
- 审核通过之后，直接上线到24haowan定制平台，并创建相应的行业案例
- 发布之后的应用，是否允许开发者自己下线？如果可以下线，平台在用的游戏如何处理，如果用户已经购买了如何处理？
